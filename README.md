# 使用说明：URL 字典爆破扫描工具

本工具是一款用于对指定 URL 进行字典爆破扫描的实用程序。它自动发起 HTTP 请求，检查响应状态码并分类，将结果存储到不同的 Markdown 文件中。以下是详细的使用步骤：

---

## 功能概述

1. **字典爆破扫描**：针对目标 URL 使用字典文件逐项请求。
2. **分类保存**：
    1. **可访问**：状态码 2xx。
    1. **不可访问**：状态码 4xx。
    1. **其他**：状态码 3xx, 5xx 等。
3. **多目标扫描**：支持输入多个 URL 目标。
4. **多模式支持**：
    1. 延迟请求模式：降低扫描频率。
    1. 并发请求模式：快速扫描。
5. **断点续扫**：支持扫描中断后继续。
6. **扫描报告生成**：按状态分类生成 Markdown 格式报告。
7. 支持字典项后缀自定义，如 `.php`, `.html` 等常见后缀, 判断字典中是否包含相关后缀
---

## 前置条件

1. **Go 编译器**：请确保系统已安装 Go 环境。
2. **字典文件**：准备好包含路径列表的字典文件。
3. **目标 URL:** 目标网站必须是你拥有合法权限进行测试的网站，避免进行未经授权的扫描，均与本人无关

---

## 运行步骤

### 1. 启动程序

确保已安装 Go，进入程序所在目录，运行以下命令启动程序：

```bash
go run main.go
```

---

### 2. 输入参数说明

#### （1）输入目标 URL

输入一个或多个目标 URL，用逗号分隔。程序会自动为每个 URL 补全缺失的 `/`：

```bash
请输入目标 URL (多个 URL 用逗号分隔):
http://example.com,http://example2.com
```

#### （2）输入字典文件路径

指定一个或多个字典文件，用逗号分隔。例如：

```bash
请输入字典文件路径 (多个文件用逗号分隔):
./wordlist1.txt,./wordlist2.txt
```

#### （3）输入报告保存路径

输入扫描结果保存路径，若不输入则默认保存在当前目录：

```bash
请输入报告保存路径 (如 D:/scan_results 或 ./reports):
如 /admin/home\.txt 或 C:\Users\xxx\xxx.txt
```

#### （4）选择扫描模式

选择扫描模式：

- **延迟请求模式**：按指定时间间隔发起请求。
- **并发线程模式**：多线程并发扫描。

```bash
请选择扫描模式:
输入 0 启用延迟请求，输入 1 启用并发线程数:
```

**延迟模式**：输入 0，然后设置最小和最大延迟时间（单位：秒)。  
 (每发起一次请求后会随机等待一段时间，适用于避免过于频繁地访问目标。)

**并发模式**：输入 1，然后设置并发线程数（建议 5-10）。
 (并发地发起多个请求，适用于快速扫描。)

#### （5）是否启用后缀扩展

启用后可为字典路径添加指定文件后缀：

```bash
是否为字典项添加常见后缀？输入 0 启用，输入 1 不启用:
```

若启用，输入后缀列表，用逗号分隔：

```bash
请输入后缀（如 .php,.html,.js）:
```

#### （6）选择结果保存类型

选择需要保存的结果类型，可多选：

```bash
请选择要保存的结果类型: (多个选项用逗号分隔):
输入 0 保存 '可访问' 结果，输入 1 保存 '不可访问' 结果，输入 2 保存 '其他' 结果:
```

---

### 3. 扫描过程

程序运行时将实时输出扫描进度与发现的有效路径：

```bash
[发现] http://example.com/login.php (状态码: 200)
已完成请求: 102, 当前速度: 20 请求/秒
```

---

### 4. 报告说明

根据不同状态分类，程序将生成并输出相关文件：



#### 示例：

目标 URL 为 `http://192.168.1.1`，生成报告文件如下：

- report_192.168.1.1_2xx.md
- report_192.168.1.1_3xx.md
- report_192.168.1.1_4xx.md
- report_192.168.1.1_5xx.md

报告示例内容：

```markdown
# 扫描报告：2xx报告内容示例

| URL                         | 状态码 | 分类   | 备注       |
|-----------------------------|--------|--------|------------|
| http://192.168.1.1/admin    | 200    | 可访问 | 正常访问   |
| http://192.168.1.1/login    | 200    | 可访问 | 正常访问   |

#扫描报告：4xx报告内容示例
| URL | 状态码 | 分类 | 备注 |  
| --- | ------ | ---- | ---- |  
| http://192.168.1.1/1.asp | 404 | 客户端错误 | 404 Client Error |
| http://192.168.1.1/2.asp | 404 | 客户端错误 | 404 Client Error |  

```

---

### 5. 注意事项

1. **合法性**：确保扫描目标有合法授权。
2. **频率控制**：频繁扫描可能触发目标服务器防护措施，建议使用延迟模式。
3. **字典优化**：根据实际目标定制字典文件，以提高扫描效率。

---

## 示例运行

以下是完整输入示例：

1. **目标 URL**：`http://192.168.0.1`
2. **字典文件路径**：`./wordlist.txt`
3. **报告保存路径**：`./scan_reports`
4. **扫描模式**：并发模式，线程数 8
5. **启用后缀**：`.php, .html`
6. **结果保存**：可访问和不可访问

输入命令：

```bash
=====================================
此程序仅用于学习和研究目的，请务必遵守相关法律法规！
=====================================
请输入目标 URL:
http://192.168.0.1
请输入字典文件路径:
./wordlist.txt
请输入报告保存路径:
./scan_reports
请选择扫描模式:
1
请输入并发线程数:
8
是否为字典项添加常见后缀？输入 0 启用，输入 1 不启用:
0
请输入后缀:
.php,.html
请选择要保存的结果类型:
0,1
```

运行输出：

```bash
已完成请求: 983, 当前速度: 246 请求/秒
[发现] http://192.168.0.1/index.php (状态码: 200)
已完成请求: 1500, 当前速度: 245 请求/秒
[发现] http://192.168.0.1/admin.php (状态码: 200)
```

报告文件将生成在 `./scan_reports` 文件夹中。

---

如有问题，请联系管理员或参考相关文档。
